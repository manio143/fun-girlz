<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Zbiory danych
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Wprowadzenie do programowania funkcyjnego GirlzCamp 2018"/>
    <meta name="author" content="Marian Dziubiak"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/fun-girlz/content/style.css" />
    <script type="text/javascript" src="/fun-girlz/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="https://github.com/manio143/fun-girlz">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/fun-girlz/index.html">fun-girlz</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Zbiory-danych" class="anchor" href="#Zbiory-danych">Zbiory danych</a></h1>
<p>W programowaniu funkcyjnym będziemy stykali się często z pojęciem krotki oraz listy. Krotka to zbiór N elementów dowolnego (określonego) typu, gdzie N jest stałe. Np:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">k</span> <span class="o">=</span> (<span class="n">1</span>,<span class="n">2</span>,<span class="s">&#39;a&#39;</span>) <span class="c">// int * int * char</span>
</code></pre></td>
</tr>
</table>
<p>Krotek używamy jeśli potrzebujemy posłużyć się anonimową strukturą danych o stałej wielkości, gdzie kolejność elementów nadaje im znaczenie. Więc jeśli np. mamy funkcję, która ma nam zwrócić dwa pierwsze elementy listy, to zwróci ona parę. Mamy wtedy pewność, że dostaniemy dwa elementy, ni mniej, ni więcej.</p>
<p>Listy natomiast to łańcuchowe struktury do przechowywania dowolnej ilości danych jednego typu.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">l</span> <span class="o">=</span> [<span class="n">1</span>;<span class="n">2</span>;<span class="n">3</span>;<span class="n">4</span>] <span class="c">// int list</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">l2</span> <span class="o">=</span> <span class="n">0</span> <span class="o">::</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="i">l</span>   <span class="c">// [0;1;2;3;4]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">l3</span> <span class="o">=</span> [<span class="n">0..</span><span class="n">5</span>]   <span class="c">// [0;1;2;3;4;5]</span>
</code></pre></td>
</tr>
</table>
<p>Lista ma głowę oraz ogon. Ogon jest listą pozostałych elementów (oprócz głowy).</p>
<p>Czyli tworząc listę nakładamy kolejne głowy zaczynając od pustej listy (stałej <code>[]</code>).</p>
<p>Zapoznamy się teraz z pojęciem rekurencji.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="f">makeList</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="i">n</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="i">value</span> <span class="o">=</span>
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs6', 9)" onmouseover="showTip(event, 'fs6', 9)" class="i">n</span> <span class="o">&lt;=</span> <span class="n">0</span> <span class="k">then</span> []
    <span class="k">else</span> <span onmouseout="hideTip(event, 'fs7', 10)" onmouseover="showTip(event, 'fs7', 10)" class="i">value</span> <span class="o">::</span> <span onmouseout="hideTip(event, 'fs5', 11)" onmouseover="showTip(event, 'fs5', 11)" class="f">makeList</span> (<span onmouseout="hideTip(event, 'fs6', 12)" onmouseover="showTip(event, 'fs6', 12)" class="i">n</span><span class="o">-</span><span class="n">1</span>) <span onmouseout="hideTip(event, 'fs7', 13)" onmouseover="showTip(event, 'fs7', 13)" class="i">value</span>
</code></pre></td>
</tr>
</table>
<p>Schemat działania jest następujący: jeśli <code>n &lt;= 0</code> to zwróć listę pustą, w.p.p. oblicz rekurencyjnie wartość funkcji dla <code>(n-1)</code> i nałóż na nią nową głowę o wartości <code>value</code>.</p>
<p>Poniżej zobaczymy jak można użyć dekonstrukcji wartości list i krotek w wyrażeniu <code>let</code></p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 14)" onmouseover="showTip(event, 'fs8', 14)" class="f">fst</span> <span onmouseout="hideTip(event, 'fs9', 15)" onmouseover="showTip(event, 'fs9', 15)" class="i">x</span> <span class="o">=</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="i">a</span>,<span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="i">b</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 18)" onmouseover="showTip(event, 'fs9', 18)" class="i">x</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs10', 19)" onmouseover="showTip(event, 'fs10', 19)" class="i">a</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 20)" onmouseover="showTip(event, 'fs12', 20)" class="f">snd</span> <span onmouseout="hideTip(event, 'fs9', 21)" onmouseover="showTip(event, 'fs9', 21)" class="i">x</span> <span class="o">=</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs10', 22)" onmouseover="showTip(event, 'fs10', 22)" class="i">a</span>,<span onmouseout="hideTip(event, 'fs11', 23)" onmouseover="showTip(event, 'fs11', 23)" class="i">b</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 24)" onmouseover="showTip(event, 'fs9', 24)" class="i">x</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs11', 25)" onmouseover="showTip(event, 'fs11', 25)" class="i">b</span>

<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs13', 26)" onmouseover="showTip(event, 'fs13', 26)" class="f">plus1</span> <span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="i">l</span> <span class="o">=</span>
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs14', 28)" onmouseover="showTip(event, 'fs14', 28)" class="i">l</span> <span class="o">=</span> [] <span class="k">then</span> []
    <span class="k">else</span> <span class="k">let</span> (<span onmouseout="hideTip(event, 'fs15', 29)" onmouseover="showTip(event, 'fs15', 29)" class="i">h</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="i">t</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 31)" onmouseover="showTip(event, 'fs14', 31)" class="i">l</span> <span class="k">in</span>
         (<span onmouseout="hideTip(event, 'fs15', 32)" onmouseover="showTip(event, 'fs15', 32)" class="i">h</span> <span class="o">+</span> <span class="n">1</span>) <span class="o">::</span> <span onmouseout="hideTip(event, 'fs13', 33)" onmouseover="showTip(event, 'fs13', 33)" class="f">plus1</span> <span onmouseout="hideTip(event, 'fs16', 34)" onmouseover="showTip(event, 'fs16', 34)" class="i">t</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Zadania" class="anchor" href="#Zadania">Zadania</a></h2>
<ol>
<li>Napisz funkcję <code>len</code> obliczającą rekurencyjnie długość listy.</li>
<li>Napisz funkcję <code>succL</code> która przyjmuje listę znaków i zwraca listę gdzie do każdego elementu zaaplikowano funkcję <code>succ</code> z poprzedniego modułu.</li>
<li>Napisz funkcję obliczającą rekurencyjnie wartość silnii dla podanego <code>n</code>.</li>
<li>Napisz funkcję generującą rekurencyjnie listę elementów od 0 do <code>n</code>.</li>
</ol>
<p>Pytania? Jeśli wszystko jasne, to przechodzimy do <a href="./patterns.html">następnego modułu</a></p>

<div class="tip" id="fs1">val k : int * int * char<br /><br />Full name: Sets.k</div>
<div class="tip" id="fs2">val l : int list<br /><br />Full name: Sets.l</div>
<div class="tip" id="fs3">val l2 : int list<br /><br />Full name: Sets.l2</div>
<div class="tip" id="fs4">val l3 : int list<br /><br />Full name: Sets.l3</div>
<div class="tip" id="fs5">val makeList : n:int -&gt; value:&#39;a -&gt; &#39;a list<br /><br />Full name: Sets.makeList</div>
<div class="tip" id="fs6">val n : int</div>
<div class="tip" id="fs7">val value : &#39;a</div>
<div class="tip" id="fs8">val fst : &#39;a * &#39;b -&gt; &#39;a<br /><br />Full name: Sets.fst</div>
<div class="tip" id="fs9">val x : &#39;a * &#39;b</div>
<div class="tip" id="fs10">val a : &#39;a</div>
<div class="tip" id="fs11">val b : &#39;b</div>
<div class="tip" id="fs12">val snd : &#39;a * &#39;b -&gt; &#39;b<br /><br />Full name: Sets.snd</div>
<div class="tip" id="fs13">val plus1 : l:int list -&gt; int list<br /><br />Full name: Sets.plus1</div>
<div class="tip" id="fs14">val l : int list</div>
<div class="tip" id="fs15">val h : int</div>
<div class="tip" id="fs16">val t : int list</div>

        </div>
        <div class="span3">
          <img src="/fun-girlz/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
        </div>
      </div>
    </div>
  </body>
  </html>
